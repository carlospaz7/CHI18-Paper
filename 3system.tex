%!TEX root=paper.tex

\newpage
\section{A Minimum Viable Language Textbook}
\label{sec:system}

Our long term vision, of an ecosystem where various educational applications, created by different authors, interacting and shareing information in order to maximize the efficiency and enjoyment of the vocabulary learning process is described in more detail elsewhere \cite{Lungu16}. 

The basic idea, sketched in Figure \ref{fig:architecture}, is that at the core of the ecosystem a ``learner model'' tracks the evolving knowledge of the learner. Based on this it can make recommendations to the individual applications. The individual applications, in turn, report back to the learner model events from which the learner progress can be infered. 

Figure \ref{fig:architecture} highlights two types of applications that are relevant for implementing a language textbook: {\bf reader applicatins} allow the learners to interact with texts in their preferred context (e.g. eBooks, News, Blogs) and {\bf vocabulary trainers} allow the readers to practice vocabulary exercises. 

\begin{figure}[h!]
\centering
  \includegraphics[width=0.8\columnwidth]{figures/zeeguu-architecture.pdf}
  \caption{The architecture of the envisioned software ecosystem}~\label{fig:architecture}
\end{figure}



% by interacting with a core API that provides the basic contextual translations, user knowledge estimation, and recommendations for words to be studied and texts to be read \cite{Lungu16}. 


Before we convince other application creators to join such an ecosystem, we have decided to build a {\em minimum viable ecosystem} which includes the basic implementations of the core components. The system that we present in this paper as a {\em personalized language textbook} is composed of instantiations of the components. We present them in turn in this section, focusing most of the attention on the elements that the user interacts with: the reader and the trainer applications. 





\input{3.1.reader}
\input{3.2.trainer}


\subsection{Translator Service}

The core API of the ecosystem provides translations. The main advantage of this indirection is that this allows the server to track the words that are looked up and the context (sentence) in which they are being looked up. This information is then used for estimating learner knowledge and for generating personalied exercises. 

The Translation Service is an API implemented using Python. Instead of implementing our own contextual translation engine, we decided to rely on existing industrial grade translateion APIs. To avoid depending on a single service and to also increase the likelihood that at least one of the alternative translations is the correct one, the translation service dispatches in parallel requests to at least three third party translation APIs: Google Translate, Microsoft Translate, and Glosbe. \cite{Jager17-mux} The first two provide contextual translations and multi-word translations, while the third is a simple dictionary. 

The dependency of the translation service on multiple third party APIs allows for a higher reliability and a chance to guarantee a low response time: when a service is down or too slow to respond, the results from it are ignored. We detail elsewhere the strategies we use to keep response times low\cite{Jager17-mux}.

\subsection{The Teacher View}

The teacher can see the history of what his students have read and observe their chosen translations in context. This chronological and contextual view is available also for the student, but they evidently can see only their own history.

\begin{figure}[h!]
\centering
  \includegraphics[width=\columnwidth]{figures/teacher_dashboard.png}
  \caption{A teacher can see the log of the words that a student looked up, their chosen translations, and the corresponding contexts.}{
  \label{exercise_translate}
  }
\end{figure}





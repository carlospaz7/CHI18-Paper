%!TEX root=paper.tex

% \newpage
\section{A Minimum Viable Language Textbook}
\label{sec:system}

Our long term vision, of an ecosystem where various educational applications, created by different authors, interacting and sharing information in order to maximize the efficiency and enjoyment of the vocabulary learning process is described in more detail elsewhere \cite{Lungu16}. 

Figure \ref{fig:architecture} highlights two types of applications that are relevant for implementing a language textbook: {\bf reader applications} allow the learners to interact with texts in their preferred context (e.g. eBooks, News, Blogs) and {\bf vocabulary trainers} allow the readers to practice vocabulary exercises. It also presents three critical components of the ecosystem with which the applications interact: the learner model, translation service, and the study recommender. Before we convince other system creators to join such an ecosystem, we have decided to build a {\em minimum viable ecosystem} which includes basic implementations of the core components. 

\begin{figure}[h!]
\centering
  \includegraphics[width=0.7\columnwidth]{figures/zeeguu-architecture.pdf}
  \caption{The architecture of the envisioned software ecosystem}~\label{fig:architecture}
\end{figure}

\subsection{Learner Model}

The basic idea, sketched in Figure \ref{fig:architecture}, is that at the core of the ecosystem a ``learner model'' tracks the evolving knowledge of the learner. Based on this it can make recommendations to the individual applications. The individual applications, in turn, report back to the learner model events from which the learner progress can be infered. 


\subsection{Translator Service}

The core API of the ecosystem provides translations. It is critical that the translation service is used by all the applications in the ecosystem since this allows the server to track the words and the context in which they are being looked up. This information is then used for estimating learner knowledge and for generating personalized recommendations. 

The Translation Service is an API implemented using Python. Instead of implementing our own contextual translation engine, we decided to rely on existing industrial grade translation APIs. To avoid depending on a single service and to also increase the likelihood that at least one of the alternative translations is the correct one, the translation service dispatches in parallel requests to at least three third party translation APIs: Google Translate, Microsoft Translate, and Glosbe. \cite{Jager17-mux} The first two provide contextual translations and multi-word translations, while the third is a simple dictionary. 

The dependency of the translation service on multiple third party APIs allows for a higher reliability and a chance to guarantee a low response time: when a service is down or too slow to respond, the results from it are ignored. We detail elsewhere the strategies we use to keep response times low\cite{Jager17-mux}.

% by interacting with a core API that provides the basic contextual translations, user knowledge estimation, and recommendations for words to be studied and texts to be read \cite{Lungu16}. 

\subsection{Study Recommender}

There are two types of recommendations that an intelligent language textbook should make: 
\begin{itemize}
	\item Interesting and accessible texts to read. The texts should be both interesting and of an appropriate difficulty level to maintain the motivation. The current implementation of the text recommender allows the reader to select given online sources (e.g. news, blogs) which are interesting for them. The difficulty estimation of everytext is done by taking into account the frequency in the target language of all the words in the text. 
	\item Optimally-timed words to practice. To schedule the words to practice the system uses an adaptive, response-time-based scheduling algorithm [was developed] to increase the efficiency of perceptual learning by Mettler et al. \cite{Mettler14-ARTS}. After evaluating several alternative scheduling strategies we settled on the Mettler one since it has been proven to have gains with both familiar, seen items as well as with new, unseen instances and the benefits of adaptive scheduling were present at an immediate test as well as at a delay \cite{Mettler14-ARTS}.
\end{itemize}

% The scheduling algorithm is based on 


\subsection{A Web-Based Reader and Trainer Platform}



The system that we present in this paper as a {\em personalized language textbook} is composed of instantiations of the components. We present them in turn in this section, focusing the discussion on three key activities that a user of such an interactive textbook is interested in: 

\begin{enumerate}
	\item finding texts to read
	\item reading the found texts
	\item practicing vocabulary in context
\end{enumerate}

 % interacts with: the reader and the trainer applications. 
\begin{added}
	
	The system presented is implemented as a responsive web application, and thus can be used from a variety of devices. We also have implemented a trainer for smartwatch devices. However, in the experiments reported in this paper, it was used from Windows, Android, and iOS devices. 

\end{added}




\input{3.1.reader}
\input{3.2.trainer}


% \subsection{Translator Service}

% The core API of the ecosystem provides translations. The main advantage of this indirection is that this allows the server to track the words that are looked up and the context (sentence) in which they are being looked up. This information is then used for estimating learner knowledge and for generating personalized exercises. 

% The Translation Service is an API implemented using Python. Instead of implementing our own contextual translation engine, we decided to rely on existing industrial grade translation APIs. To avoid depending on a single service and to also increase the likelihood that at least one of the alternative translations is the correct one, the translation service dispatches in parallel requests to at least three third party translation APIs: Google Translate, Microsoft Translate, and Glosbe. \cite{Jager17-mux} The first two provide contextual translations and multi-word translations, while the third is a simple dictionary. 

% The dependency of the translation service on multiple third party APIs allows for a higher reliability and a chance to guarantee a low response time: when a service is down or too slow to respond, the results from it are ignored. We detail elsewhere the strategies we use to keep response times low\cite{Jager17-mux}.


% \begin{figure}[h!]
% \centering
%   \includegraphics[width=\columnwidth]{figures/teacher_dashboard.png}
%   \caption{A teacher can see the log of the words that a student looked up, their chosen translations, and the corresponding contexts}{
%   \label{fig:teacher}
%   }
% \end{figure}




